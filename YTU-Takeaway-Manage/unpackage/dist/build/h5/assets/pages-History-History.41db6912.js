import{D as t,g as a,o as e,c as d,w as l,f as i,a as u,r as s,F as n,j as o,d as c,e as r,t as A,b as p}from"./index-745be673.js";import{_ as f}from"./uni-card.508b0ca9.js";import{r as h}from"./uni-app.es.4a269a07.js";import{_ as m}from"./_plugin-vue_export-helper.1b428a4d.js";const _=m({data:()=>({ListAudit:[],AuditState:"",Account:0}),onShow(){this.Account=2640055850001,t.callFunction({name:"GetAuditsByAccount",data:{Account:this.Account}}).then((t=>{for(var a=0;a<t.result.data.length;a++)"未处理"==t.result.data[a].AuditState&&(t.result.data[a].color="color:#1296db"),"处理中"==t.result.data[a].AuditState&&(t.result.data[a].color="color:#ffaa00"),"已通过"==t.result.data[a].AuditState&&(t.result.data[a].color="color:#00aa00"),"已驳回"==t.result.data[a].AuditState&&(t.result.data[a].color="color:#ff0000");this.ListAudit=t.result.data}))},methods:{AuditDetail(e,d,l){let i;"商家入驻"==l?"未处理"==d?(t.callFunction({name:"UpdateAuditListState",data:{AuditListId:e,AuditState:"处理中"}}),t.callFunction({name:"GetManagerMsg",data:{Account:this.Account}}).then((d=>{i=d.result.data[0].name,t.callFunction({name:"UpdateHandlersInAudit",data:{AuditListId:e,AuditState:"处理中",Handlers:i,HandlersPhone:this.Account}}).then((t=>{a({url:"/pages/AuditDetail/AuditDetail?AuditId="+e})}))}))):a({url:"/pages/AuditDetail/AuditDetail?AuditId="+e}):"商家退出"==l&&("未处理"==d?(t.callFunction({name:"UpdateAuditListState",data:{AuditListId:e,AuditState:"处理中"}}),t.callFunction({name:"GetManagerMsg",data:{Account:this.Account}}).then((d=>{i=d.result.data[0].name,t.callFunction({name:"UpdateHandlersInExitAudit",data:{AuditListId:e,AuditState:"处理中",Handlers:i,HandlersPhone:this.Account}}).then((t=>{a({url:"/pages/AudtiExit/AudtiExit?AuditId="+e})}))}))):a({url:"/pages/AudtiExit/AudtiExit?AuditId="+e}))}}},[["render",function(t,a,m,_,y,x){const S=i,g=h(o("uni-card"),f);return e(),d(S,null,{default:l((()=>[(e(!0),u(n,null,s(y.ListAudit,((t,a)=>(e(),d(S,null,{default:l((()=>[c(S,{onClick:a=>x.AuditDetail(t._id,t.AuditState,t.AuditType)},{default:l((()=>[c(g,{title:t.AuditType,extra:t.AuditState},{title:l((()=>[c(S,{style:{display:"flex","margin-top":"3%","margin-left":"3%"}},{default:l((()=>[c(S,{style:{width:"80%"}},{default:l((()=>[r(A(t.AuditType),1)])),_:2},1024),c(S,{style:p([{width:"20%"},t.color])},{default:l((()=>[r(A(t.AuditState),1)])),_:2},1032,["style"])])),_:2},1024),c(S,{style:{height:"20rpx","border-bottom":"1px solid #ececec"}})])),default:l((()=>[c(S,null,{default:l((()=>[r(A(t._id),1)])),_:2},1024),c(S,{class:"TypeMain",style:{display:"flex"}},{default:l((()=>[r("申请内容: "),c(S,{style:{color:"black"}},{default:l((()=>[r(A(t.AuditMain),1)])),_:2},1024)])),_:2},1024),c(S,{style:{display:"flex"}},{default:l((()=>[r("申请人： "),c(S,{style:{color:"black"}},{default:l((()=>[r(A(t.Applicant),1)])),_:2},1024)])),_:2},1024),c(S,{style:{display:"flex"}},{default:l((()=>[r("申请时间： "),c(S,{style:{color:"black"}},{default:l((()=>[r(A(t.ApplicationTime),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["title","extra"])])),_:2},1032,["onClick"])])),_:2},1024)))),256))])),_:1})}],["__scopeId","data-v-5eec07f9"]]);export{_ as default};
