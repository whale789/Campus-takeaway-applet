import{D as t,m as a,g as e,o as l,c as d,w as i,f as u,a as s,r as n,F as r,j as o,d as c,e as A,t as p,b as f}from"./index-745be673.js";import{_ as m}from"./uni-card.508b0ca9.js";import{r as _}from"./uni-app.es.4a269a07.js";import{_ as y}from"./_plugin-vue_export-helper.1b428a4d.js";const h=y({data:()=>({ListAudit:[],AuditState:""}),onShow(){t.callFunction({name:"GetAllAudits"}).then((t=>{for(var a=0;a<t.result.data.length;a++)"未处理"==t.result.data[a].AuditState&&(t.result.data[a].color="color:#1296db"),"处理中"==t.result.data[a].AuditState&&(t.result.data[a].color="color:#ffaa00"),"已通过"==t.result.data[a].AuditState&&(t.result.data[a].color="color:#00aa00"),"已驳回"==t.result.data[a].AuditState&&(t.result.data[a].color="color:#ff0000");this.ListAudit=t.result.data}))},methods:{AuditDetail(l,d,i){var u=a().globalData.Account;let s;"商家入驻"==i?"未处理"==d?(t.callFunction({name:"UpdateAuditListState",data:{AuditListId:l,AuditState:"处理中"}}),t.callFunction({name:"GetManagerMsg",data:{Account:u}}).then((a=>{s=a.result.data[0].name,t.callFunction({name:"UpdateHandlersInAudit",data:{AuditListId:l,AuditState:"处理中",Handlers:s,HandlersPhone:u}}).then((t=>{e({url:"/pages/AuditDetail/AuditDetail?AuditId="+l})}))}))):e({url:"/pages/AuditDetail/AuditDetail?AuditId="+l}):"商家退出"==i&&("未处理"==d?(t.callFunction({name:"UpdateAuditListState",data:{AuditListId:l,AuditState:"处理中"}}),t.callFunction({name:"GetManagerMsg",data:{Account:u}}).then((a=>{s=a.result.data[0].name,t.callFunction({name:"UpdateHandlersInExitAudit",data:{AuditListId:l,AuditState:"处理中",Handlers:s,HandlersPhone:u}}).then((t=>{e({url:"/pages/AudtiExit/AudtiExit?AuditId="+l})}))}))):e({url:"/pages/AudtiExit/AudtiExit?AuditId="+l}))}}},[["render",function(t,a,e,y,h,x){const g=u,S=_(o("uni-card"),m);return l(),d(g,null,{default:i((()=>[(l(!0),s(r,null,n(h.ListAudit,((t,a)=>(l(),d(g,null,{default:i((()=>[c(g,{onClick:a=>x.AuditDetail(t._id,t.AuditState,t.AuditType)},{default:i((()=>[c(S,{title:t.AuditType,extra:t.AuditState},{title:i((()=>[c(g,{style:{display:"flex","margin-top":"3%","margin-left":"3%"}},{default:i((()=>[c(g,{style:{width:"80%"}},{default:i((()=>[A(p(t.AuditType),1)])),_:2},1024),c(g,{style:f([{width:"20%"},t.color])},{default:i((()=>[A(p(t.AuditState),1)])),_:2},1032,["style"])])),_:2},1024),c(g,{style:{height:"20rpx","border-bottom":"1px solid #ececec"}})])),default:i((()=>[c(g,null,{default:i((()=>[A(p(t._id),1)])),_:2},1024),c(g,{class:"TypeMain",style:{display:"flex"}},{default:i((()=>[A("申请内容: "),c(g,{style:{color:"black"}},{default:i((()=>[A(p(t.AuditMain),1)])),_:2},1024)])),_:2},1024),c(g,{style:{display:"flex"}},{default:i((()=>[A("申请人： "),c(g,{style:{color:"black"}},{default:i((()=>[A(p(t.Applicant),1)])),_:2},1024)])),_:2},1024),c(g,{style:{display:"flex"}},{default:i((()=>[A("申请时间： "),c(g,{style:{color:"black"}},{default:i((()=>[A(p(t.ApplicationTime),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["title","extra"])])),_:2},1032,["onClick"])])),_:2},1024)))),256))])),_:1})}],["__scopeId","data-v-54514500"]]);export{h as default};
