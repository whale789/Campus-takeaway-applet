import{_ as e,p as t}from"./uni-popup.6e285b20.js";import{j as s,o,c as i,w as l,d as a,n as r,b as n,p as u,h as c,a as p,F as h,L as d,I as m,f,e as y,t as g,i as x}from"./index-745be673.js";import{r as S}from"./uni-app.es.4a269a07.js";import{_ as b}from"./_plugin-vue_export-helper.1b428a4d.js";function C(e){let t="";for(let s in e){t+=`${s}:${e[s]};`}return t}const w=b({name:"uni-easyinput",emits:["click","iconClick","update:modelValue","input","focus","blur","confirm","clear","eyes","change"],model:{prop:"modelValue",event:"update:modelValue"},options:{virtualHost:!0},inject:{form:{from:"uniForm",default:null},formItem:{from:"uniFormItem",default:null}},props:{name:String,value:[Number,String],modelValue:[Number,String],type:{type:String,default:"text"},clearable:{type:Boolean,default:!0},autoHeight:{type:Boolean,default:!1},placeholder:{type:String,default:" "},placeholderStyle:String,focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},maxlength:{type:[Number,String],default:140},confirmType:{type:String,default:"done"},clearSize:{type:[Number,String],default:24},inputBorder:{type:Boolean,default:!0},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},trim:{type:[Boolean,String],default:!0},passwordIcon:{type:Boolean,default:!0},primaryColor:{type:String,default:"#2979ff"},styles:{type:Object,default:()=>({color:"#333",disableColor:"#F7F6F6",borderColor:"#e5e5e5"})},errorMessage:{type:[String,Boolean],default:""}},data:()=>({focused:!1,val:"",showMsg:"",border:!1,isFirstBorder:!1,showClearIcon:!1,showPassword:!1,focusShow:!1,localMsg:""}),computed:{isVal(){const e=this.val;return!(!e&&0!==e)},msg(){return this.localMsg||this.errorMessage},inputMaxlength(){return Number(this.maxlength)},boxStyle(){return`color:${this.inputBorder&&this.msg?"#e43d33":this.styles.color};`},inputContentClass(){return function(e){let t="";for(let s in e)e[s]&&(t+=`${s} `);return t}({"is-input-border":this.inputBorder,"is-input-error-border":this.inputBorder&&this.msg,"is-textarea":"textarea"===this.type,"is-disabled":this.disabled})},inputContentStyle(){const e=this.focusShow?this.primaryColor:this.styles.borderColor;return C({"border-color":(this.inputBorder&&this.msg?"#dd524d":e)||"#e5e5e5","background-color":this.disabled?this.styles.disableColor:this.styles.backgroundColor})},inputStyle(){return C({"padding-right":"password"===this.type||this.clearable||this.prefixIcon?"":"10px","padding-left":this.prefixIcon?"":"10px"})}},watch:{value(e){this.val=e},modelValue(e){this.val=e},focus(e){this.$nextTick((()=>{this.focused=this.focus,this.focusShow=this.focus}))}},created(){this.init(),this.form&&this.formItem&&this.$watch("formItem.errMsg",(e=>{this.localMsg=e}))},mounted(){this.$nextTick((()=>{this.focused=this.focus,this.focusShow=this.focus}))},methods:{init(){this.value||0===this.value?this.val=this.value:this.modelValue||0===this.modelValue?this.val=this.modelValue:this.val=null},onClickIcon(e){this.$emit("iconClick",e)},onEyes(){this.showPassword=!this.showPassword,this.$emit("eyes",this.showPassword)},onInput(e){let t=e.detail.value;this.trim&&("boolean"==typeof this.trim&&this.trim&&(t=this.trimStr(t)),"string"==typeof this.trim&&(t=this.trimStr(t,this.trim))),this.errMsg&&(this.errMsg=""),this.val=t,this.$emit("input",t),this.$emit("update:modelValue",t)},onFocus(){this.$nextTick((()=>{this.focused=!0})),this.$emit("focus",null)},_Focus(e){this.focusShow=!0,this.$emit("focus",e)},onBlur(){this.focused=!1,this.$emit("focus",null)},_Blur(e){if(e.detail.value,this.focusShow=!1,this.$emit("blur",e),this.$emit("change",this.val),this.form&&this.formItem){const{validateTrigger:e}=this.form;"blur"===e&&this.formItem.onFieldChange()}},onConfirm(e){this.$emit("confirm",this.val),this.$emit("change",this.val)},onClear(e){this.val="",this.$emit("input",""),this.$emit("update:modelValue",""),this.$emit("clear")},trimStr:(e,t="both")=>"both"===t?e.trim():"left"===t?e.trimLeft():"right"===t?e.trimRight():"start"===t?e.trimStart():"end"===t?e.trimEnd():"all"===t?e.replace(/\s+/g,""):e}},[["render",function(t,y,g,x,b,C){const w=S(s("uni-icons"),e),_=d,I=m,v=f;return o(),i(v,{class:r(["uni-easyinput",{"uni-easyinput-error":C.msg}]),style:n(C.boxStyle)},{default:l((()=>[a(v,{class:r(["uni-easyinput__content",C.inputContentClass]),style:n(C.inputContentStyle)},{default:l((()=>[u(t.$slots,"prefixIcon",{},(()=>[g.prefixIcon?(o(),i(w,{key:0,class:"content-clear-icon",type:g.prefixIcon,color:"#c0c4cc",onClick:y[0]||(y[0]=e=>C.onClickIcon("prefix")),size:"22"},null,8,["type"])):c("",!0)]),!0),"textarea"===g.type?(o(),i(_,{key:0,class:r(["uni-easyinput__content-textarea",{"input-padding":g.inputBorder}]),name:g.name,value:b.val,placeholder:g.placeholder,placeholderStyle:g.placeholderStyle,disabled:g.disabled,"placeholder-class":"uni-easyinput__placeholder-class",maxlength:C.inputMaxlength,focus:b.focused,autoHeight:g.autoHeight,onInput:C.onInput,onBlur:C._Blur,onFocus:C._Focus,onConfirm:C.onConfirm},null,8,["class","name","value","placeholder","placeholderStyle","disabled","maxlength","focus","autoHeight","onInput","onBlur","onFocus","onConfirm"])):(o(),i(I,{key:1,type:"password"===g.type?"text":g.type,class:"uni-easyinput__content-input",style:n(C.inputStyle),name:g.name,value:b.val,password:!b.showPassword&&"password"===g.type,placeholder:g.placeholder,placeholderStyle:g.placeholderStyle,"placeholder-class":"uni-easyinput__placeholder-class",disabled:g.disabled,maxlength:C.inputMaxlength,focus:b.focused,confirmType:g.confirmType,onFocus:C._Focus,onBlur:C._Blur,onInput:C.onInput,onConfirm:C.onConfirm},null,8,["type","style","name","value","password","placeholder","placeholderStyle","disabled","maxlength","focus","confirmType","onFocus","onBlur","onInput","onConfirm"])),"password"===g.type&&g.passwordIcon?(o(),p(h,{key:2},[C.isVal?(o(),i(w,{key:0,class:r(["content-clear-icon",{"is-textarea-icon":"textarea"===g.type}]),type:b.showPassword?"eye-slash-filled":"eye-filled",size:22,color:b.focusShow?g.primaryColor:"#c0c4cc",onClick:C.onEyes},null,8,["class","type","color","onClick"])):c("",!0)],64)):g.suffixIcon||t.$slots.suffixIcon?u(t.$slots,"suffixIcon",{key:3},(()=>[g.suffixIcon?(o(),i(w,{key:0,class:"content-clear-icon",type:g.suffixIcon,color:"#c0c4cc",onClick:y[1]||(y[1]=e=>C.onClickIcon("suffix")),size:"22"},null,8,["type"])):c("",!0)]),!0):(o(),p(h,{key:4},[g.clearable&&C.isVal&&!g.disabled&&"textarea"!==g.type?(o(),i(w,{key:0,class:r(["content-clear-icon",{"is-textarea-icon":"textarea"===g.type}]),type:"clear",size:g.clearSize,color:C.msg?"#dd524d":b.focusShow?g.primaryColor:"#c0c4cc",onClick:C.onClear},null,8,["class","size","color","onClick"])):c("",!0)],64)),u(t.$slots,"right",{},void 0,!0)])),_:3},8,["class","style"])])),_:3},8,["class","style"])}],["__scopeId","data-v-40db6ba6"]]);const _=b({name:"uniPopupMessage",mixins:[t],props:{type:{type:String,default:"success"},message:{type:String,default:""},duration:{type:Number,default:3e3},maskShow:{type:Boolean,default:!1}},data:()=>({}),created(){this.popup.maskShow=this.maskShow,this.popup.messageChild=this},methods:{timerClose(){0!==this.duration&&(clearTimeout(this.timer),this.timer=setTimeout((()=>{this.popup.close()}),this.duration))}}},[["render",function(e,t,s,n,c,p){const h=x,d=f;return o(),i(d,{class:"uni-popup-message"},{default:l((()=>[a(d,{class:r(["uni-popup-message__box fixforpc-width","uni-popup__"+s.type])},{default:l((()=>[u(e.$slots,"default",{},(()=>[a(h,{class:r(["uni-popup-message-text","uni-popup__"+s.type+"-text"])},{default:l((()=>[y(g(s.message),1)])),_:1},8,["class"])]),!0)])),_:3},8,["class"])])),_:3})}],["__scopeId","data-v-d81cfb56"]]);export{w as _,_ as a};
